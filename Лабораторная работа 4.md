# **Лабораторная работа №4**  
## **Создание Angular-проекта**  

Официальное руководство по созданию Angular-проекта доступно по [ссылке](https://angular.dev/tools/cli/setup-local#create-a-workspace-and-initial-application).  

Ниже представлена краткая инструкция по настройке окружения и созданию нового проекта:  
1. Установите LTS-версию [Node.js](https://nodejs.org/en/download/).  
2. В терминале выполните команду для установки Angular CLI:  
   ```sh
   npm install -g @angular/cli
   ```
3. Перейдите в каталог, в котором планируется размещение проекта, и создайте новый Angular-проект:  
   ```sh
   ng new <имя-проекта>
   ```
   В процессе создания ответьте на вопросы установщика:  
   - **Which stylesheet format would you like to use?** — выберите CSS или любой другой предпочитаемый формат.  
   - **Do you want to enable Server-Side Rendering (SSR) and Static Site Generation (SSG/Prerendering)?** — выберите `N` (No).  
4. Перейдите в созданную директорию проекта. Для запуска приложения выполните команду:  
   ```sh
   ng serve --open
   ```
   После успешного запуска приложение будет доступно по адресу `http://localhost:4200/`.  
5. При использовании **Visual Studio Code** рекомендуется установить [Angular Language Service](https://marketplace.visualstudio.com/items?itemName=Angular.ng-template) для улучшенной поддержки Angular-шаблонов.  

В качестве серверной части используется реализация из **Лабораторной работы №2** (или **Лабораторной работы №3** с отключенной системой аутентификации и авторизации).  

Дополнительные ресурсы:  
- [Официальный учебник Angular](https://angular.io/tutorial/tour-of-heroes).  
- [Список CSS-библиотек](https://github.com/troxler/awesome-css-frameworks) для стилизации интерфейса.  

---

## **Настройка маршрутизации (Routing)**  
Создайте следующие компоненты с помощью Angular CLI:  
- **ProjectListComponent** — отображает список проектов.  
- **EditProjectComponent** — форма для редактирования/создания проекта.  
- **TaskListComponent** — отображает список задач проекта.  

Настройте маршрутизацию, добавив соответствующие пути:  
- `/projects` — список всех проектов.  
- `/projects/{projectId}` — редактирование проекта с идентификатором `projectId`.  
- `/projects/new` — создание нового проекта.  
- `/tasks/{projectId}` — список задач для проекта с идентификатором `projectId`.  

Дополнительные материалы:  
- [Руководство по маршрутизации в Angular](https://angular.dev/guide/routing).  

---

## **Создание TypeScript-интерфейсов**  
1. Определите интерфейсы `Project` и `Task`, соответствующие серверным DTO.

---

## **Создание сервисов для взаимодействия с сервером**  
Для работы с API необходимо либо **разрешить CORS** на сервере, либо **настроить прокси** в Angular CLI. Инструкция по настройке прокси доступна [здесь](https://angular.dev/tools/cli/serve#proxying-to-a-backend-server).  

### **Шаги реализации:**  
1. Добавьте файл `environment.ts`, содержащий URL сервера.
2. Создайте два Angular сервиса. `ProjectService` для работы с проектами и `TaskService` для работы с задачами. Примерный шаблон работы с HTTP можно посмотреть [здесь](https://angular.io/tutorial/tour-of-heroes/toh-pt6).
3. Реализуйте в сервисах методы для общения с вашим сервером.

---

## **Создание компонента отображения проекта**  
1. Создайте компонент, который будет отображать сводную информацию о проекте. В качестве входного параметра данный компонент принимает сущность проекта. Второй параметр - количество незакрытых задач.
   Примерный макет компонента:\
      ![image](https://github.com/Das-dasein/web-2024/assets/33377076/c24dad9a-9f4d-409d-8755-d6f3caf999b1)
2.  Форматирование даты выполняется с помощью [DatePipe](https://angular.dev/guide/pipes/template#chaining-pipes).  
3. При нажатии на кнопку "Редактировать" пользователь перенаправляется на страницу редактирования проекта (`/projects/{projectId}`) с использованием [RouterLink](https://angular.io/api/router/RouterLink).  
4. Проверьте работоспособность вашего компонента, добавив его в разметку app.component.html (после отладки этот шаг можно убрать)

---

## **Отображение списка проектов**  
1. Реализуйте загрузку данных с сервера через `ProjectService`.  
2. Для одновременной загрузки данных о проектах и количестве задач используйте [forkJoin](https://rxjs.dev/api/index/function/forkJoin).  
3. Реализуйте фильтрацию списка по названию/описанию:  
   - Используйте `<input type="search">` для ввода поискового запроса.  
   - Фильтрация выполняется при нажатии `Enter`.  
4. Добавьте кнопку "Создать проект", перенаправляющую пользователя на `/projects/new`.  

---

## **Создание и редактирование проектов**  
1. Реализуйте форму редактирования/создания проекта с полями:  
   - `input type="text"` — название проекта;  
   - `textarea` — описание;  
   - `input type="date"` — дата начала и окончания.  
2. Используйте **Template-Driven Forms** или **Reactive Forms** для привязки данных.  
3. При редактировании загружайте данные проекта по его идентификатору.  
4. После сохранения пользователь должен быть перенаправлен на `/projects`.  
5. Опционально: добавить валидацию формы.  

---

## **Отображение задач**  
1. Реализуйте компонент для отображения информации о задаче.
2. Входной параметр — объект типа `Task`.  
3. Добавьте событие `@Output`, позволяющее удалять задачи.  

---

## **Список задач**  
1. Реализуйте `TaskListComponent`. Идентификатор проекта передается через URL.  
2. Загрузите задачи по идентификатору проекта.  
3. Добавьте обработчик удаления задачи. Задача должна удалиться с БД и перестать отображаться на странице.

---

### **Примечание**  
Редактирование/создание задач **не требуется** в данной лабораторной работе.  
