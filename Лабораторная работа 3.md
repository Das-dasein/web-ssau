# Лабораторная работа №3. Spring Security
В процессе выполнения лабораторной работы требуется ознакомиться с технологией Spring Security.
1. Подключите в ваш проект зависимость Spring Security.
2. Создайте в базе данных таблицу пользователей со следующими полями:
   - `id` - `bigserial`
   - `login` - `text`
   - `password` - `text`
   - `enabled` - `boolean`

   Создайте таблицу ролей:
   - `id` - `bigserial`
   - `name` - `text`
   
   Добавьте many-to-many таблицу пользователи-роли.

   Создайте Entity классы для описания таблиц пользователей, ролей. Entity-класс пользователя должен реализовывать `UserDetails` интерфейс.

   Создайте JPA интерфейс `UserRepository` для работы с сущностью `User`.

   Создайте класс `UserDetailsServiceImpl`, реализующий интерфейс `UserDetailsService`. Реализуйте метод `loadUserByUsername`.

   Добавьте в конфигурационный компонент объявление следующего бина:
   ```java
   @Bean
   public AuthenticationManager authenticationManager() {
       DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();
       authenticationProvider.setUserDetailsService(userDetailsService);
       authenticationProvider.setPasswordEncoder(passwordEncoder());
   
       return authenticationProvider;
   }
3. Добавьте проекту поле creator. При создании проекта устанавливайте это поле равным текущему залогиненному пользователю.
4. Сконфигурируйте Security следующим образом:
   - незалогиненный пользователь не может получать никакую информацию;
   - проекты может изменять/удалять создатель либо администратор.
6. Продемонстрировать работу с STATEFUL и STATELESS аутентификацией.
5. Включите логгирование Security, передав debug=true в аннотацию EnableWebSecurity. Проследите цепочку фильтров, вызывающихся при выполнении запроса. Объясните назначение фильтров.
7. Напишите свой собственный фильтр, который проверяет, есть ли в запросе заголовок X-UNIVERSITY. Если заголовка нет, то отклонить запрос. Если в заголовке содержится SSAU, то в заголовке ответа вернуть X-UNIVERSITY: SAMARA_UNIVERSITY. Значения SSAU, SAMARA_UNIVERSITY брать из properties.
