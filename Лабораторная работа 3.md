# Лабораторная работа №3. Spring Security
В процессе выполнения лабораторной работы требуется ознакомиться с технологией Spring Security. Выполнять 3 или 4 пункт на выбор. 
1. Подключите в ваш проект зависимость Spring Security.
2. Сконфигурируйте Security следующим образом: все запросы, изменяющие проекты (**а не задачи**), должны быть доступны только администратору. Остальные запросы доступны и пользователям, и администраторам. Незалогиненный пользователь не может получать никакую информацию.
3. Пользователи конфигурируются посредством [InMemoryUserDetailsManager](https://docs.spring.io/spring-security/site/docs/4.2.x/apidocs/org/springframework/security/provisioning/InMemoryUserDetailsManager.html). 
   Сочетания login/password/role должны считываться из application.properties файла.
   ```
   security.logins=just_user,superadmin
   security.passwords=1234,admin1234
   security.roles=USER,ADMIN
   ```
4. 
   Создайте в базе данных таблицу пользователей со следующими полями:
   - `id` - `bigserial`
   - `login` - `text`
   - `password` - `text`
   - `enabled` - `boolean`

   Создайте таблицу ролей:
   - `id` - `bigserial`
   - `name` - `text`
   
   Добавьте many-to-many таблицу пользователи-роли.

   Создайте Entity классы для описания таблиц пользователей, ролей. Entity-класс пользователя должен реализовывать `UserDetails` интерфейс.

   Создайте JPA интерфейс `UserRepository` для работы с сущностью `User`.

   Создайте класс `UserDetailsServiceImpl`, реализующий интерфейс `UserDetailsService`. Реализуйте метод `loadUserByUsername`.

   Добавьте в конфигурационный компонент объявление следующего бина:
   ```java
   @Bean
   public AuthenticationManager authenticationManager() {
       DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();
       authenticationProvider.setUserDetailsService(userDetailsService);
       authenticationProvider.setPasswordEncoder(passwordEncoder());
   
       return authenticationProvider;
   }
6. После успешного логина необходимо перенаправлять на `/projects`.
